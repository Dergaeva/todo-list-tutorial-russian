# Angular в действии

Прежде чем мы начнем разрабатывать приложение, давайте hfccvjnhbv проект более детально и разберемся как Angular получает изображение. Все соответствующие файлы на этом этапе лежат внутри `src` папки.  
Более подробно о файлах, созданных спомощью  Angular CLI в [Appendix 1: Generating a new project](https://ng-girls.gitbook.io/todo-list-tutorial/generating_a_new_project.html).

Если Вы действительно хотите начать кодить, можете пропустить эту главу и вернуться к ней позже, чтобы понять структуру проекта.

Откройте файл `index.html`.Содержимое, сгенерированное в браузере, лежит внутри элемента  `<body>`. То, что вы видите сейчас, отличается, не-HTML элемент: `<app-root></app-root>`. Этот элемент на самом деле является Angular компонентом, который был определен в файле `app/app.component.ts` с классом **AppComponent**. \(Мы рассмотрим это в следующей главе\).

> Angular может быть определен разными способами. Один из них, спомощью JavaScript кода, который запускается, когда приложение открывается в браузере. Весь код, который вы напишете - компоненты, модули, сервисы, и т.д. будут определены в Angular. Angular будет выполнять действия соответственно. Например, компоненты, которые вы напишете и используете будут скомпилированы для функций JavaScript.Эти функции вставляют контент компонента в DOM \(Document Object Model\) - структуру страницы в памяти компьютера, которую браузер использует для показа приложения. Таким образом вы увидите компонент, созданный на экране.

Так `<app-root>` это не HTML элемент, а Angular Компонент. Когда приложение готово,содержимое компонента вставляется в`<app-root>` тег, и вы увидите его в браузере:

![Initial App](https://github.com/ng-girls/todo-list-tutorial/raw/master/assets/initial-app.png)

Давайте немного узнаем о главном строительном блоке Angular приложения -  Angular модуле.

## NgModule

Angular нужен нам чтобы определить, что мы хотим скомпилировать. Для этого мы используем Angular Модули, или **NgModules**, которые похожи на пакеты связанных элементов. Они могут включать компоненты, сервисы, директивы, pipes и другие NgModules. У нас уже есть корневой NgModule обозначенный для нас в файле `app/app.module.ts`. Давайте посмотрим на этот файл.

Последняя строка в файле означает JavaScript класс:

```typescript
export class AppModule { }
```

`export` это зарезервированное слово в JavaScript, которое означает, что независимо от того, что определено после него, должно быть открытым для других файлов, у которых есть `import` оператор. Вы можете увидеть примеры классов и функций, импортированных из других файлов в первых строках этого файла. Они используются в файле.

Класс `AppModule` пустой. Он получит свою функциональность спомощью Angular, который будет определять свою роль в коде перед этой строкой, начиная с `@NgModule({`.
Каждый обьект в Angular \(NgModule, компоненты, сервисы, директивы и pipes\) это просто **класс с декоратором**. Декоратор говорит Angular какова роль этого класса.

`@NgModule({...})`является декоратором. Декоратор - это просто функция. Когда мы ее используем, то ставим `@` перед именем. Таким образом, она становится декоратором: который смотрит на то, что написано сразу после вызова функции и получает его в качестве аргумента. Декораторы обычно делают что-то с тем, что они декорируют. Например, в этом случае,  `NgModule` получает `AppModule` класс и добавляет к нему методы и элементы, которые позже будут использоваться в Angular. В этом варианте, Angular определяет класс , который представляет собой  NgModule.

Что мы передаем в функцию декоратора, которая используется в Angular для декорирования класса? Как вы видите, мы передаем обьект с элементами, каждый из которых это список других классов. Кратко разберем, что представляет каждый элемент.

**declarations**: список элементов в Angular, которые применяются в этом модуле. Они могут использовать друг друга \(например, директива, используемая в компоненте\). Мы передаем здесь только один компонент - `AppComponent`, потому что это все, что пока у нас есть в нашем приложении.

**imports**: список других NgModules которые необходимы для этого модуля. Например, мы можем использовать детали с `FormsModule` - директивы и сервисы, внутри `AppComponent`.

**bootstrap**: этот элемент имеет отношение только к корню NgModule. Вы не найдете его в модулях в списке импорта, например. Он сообщает Angular, какой компонент следует использовать в качестве корневого компонента приложения. Каждый компонент может использовать другие компоненты в своем шаблоне. У нас есть один корневой компонент, который запускает всю структуру. Таким образом, мы фактически получаем  **структуру дерева** компонентов, которые создают приложение. В этом случае корневой компонент `AppComponent` \(с селектором `todo-root`\). Как мы видели, он используется в `index.html` как единственный компонент внутри `<body>`.

Как Angular знает что `AppModule` это корень NgModule? Это обозначается в файле `main.ts` на последней строке:

{% code-tabs %}
{% code-tabs-item title="src/main.ts" %}
```typescript
platformBrowserDynamic().bootstrapModule(AppModule)
  .catch(err => console.log(err));
```
{% endcode-tabs-item %}
{% endcode-tabs %}

Мы загрузили наш корень NgModule к рендерингу. Таким образом, мы сообщаем Angular, что NgModule использовать в качестве отправной точки нашего приложения. И мы также выбираем средство визуализации `platformBrowserDynamic`, которое знает, как  добавить соответствующие данные к коду \(элементы, атрибуты и т. д.\) к DOM.

Если есть ошибка, она будет поймана в консоле браузера \(видно только при открытии dev-tools браузера\).

В этот момент мы можем использовать другой рендерер, например, тот, который отображает исходные элементы Android или iOS! Нам только нужен рендерер, который знает, как принимать наши шаблоны \(который использует нотацию HTML\) и JavaScript код, и создать собственные элементы мобильных приложений. Примером такого средства визуализации является [NativeScript](https://www.nativescript.org/) от Telerik.

Есть даже рендеринги для Arduino, с которыми вы можете подключать датчики, кнопки, LEDs и другое оборудование для вашего приложения! Вы можете увидеть отличный пример для этого здесь: [Building Simon with Angular2-IoT](https://medium.com/@urish/building-simon-with-angular2-iot-fceb78bb18e5#.430qu216w).

Мы поговорили о том, где и как начать работу, как определяется корневой модуль и компонент, и как используется этот компонент.

В следующей главе мы рассмотрим, как компонент обозначается в Angular.

